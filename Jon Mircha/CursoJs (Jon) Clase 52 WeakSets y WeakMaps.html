<!DOCTYPE html>
<html lang="Es">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>WeakSets y WeakMaps</title>
  </head>
  <body>
    <h1>WeakSets y WeakMaps</h1>

    <script>
      Com = "/--------------Comentario--------------/";
      ale = console.log;
      ale(Com);


      //los sets se semejas a los arrays y los maps a los Objetos
      //Son Como hermanos pequeños de si mismos (Sets => WeakSets) (Maps => WeakMaps)

      /* Al utilizarlos tienen carencias 
      - No puedes iterarlos o Recorrerlos keys y values
      - No podemos usar clear()
      - No podemos verificar su tamaño 
       */

      //Para almecenar valores en el Tiene Que se Uno por uno con add

      //const ws = new WeakSet([1,2,3,3,4,5,6,true,true,false,"hola","HOLAs"]); BADDDDD
      //const ws = new WeakSet(); Good


                                          /* WeakSet */

      const ws = new WeakSet(); 

      //ws.add("Hola"); Error BADDDDDD

      let valor1 = {"valor1": 1};
      let valor2 = {"valor2": 2};   
      let valor3 = {"valor3": 3};
      let valor4 = {"valor4": 4};

      ws.add(valor1);
      ws.add(valor2);
      ws.add(valor3);

      console.log(ws);

      ale(Com);

      console.log(ws.has(valor1));
      console.log(ws.has(valor2));
      console.log(ws.has(valor4));

      ws.delete(valor2);

      console.log(ws);

      ws.add(valor2);
/* 
      setInterval(()=> console.log(ws), 1000);

      setTimeout(() => {
        valor1 = null
        valor2 = null
        valor3 = null
      }, 5000);
 */

                                          /* WeakMAP */
     /* const wm = new WeakMap([  //BADDDDDDDDDDDDD
        ["Nombre","Roku"],
        ["Peso","15Kl"],
        ["Edad","7 Meses"],
        ["Raza","Pug"],
        ["",""]]); */
        ale(Com);


        const wm = new WeakMap();  //GOODDDDDDD

         //ws.add("Hola"); Error BADDDDDD

      let valor5 = {};
      let valor6 = {};   
      let valor7 = {};
      let valor8 = {}; 


      wm.set(valor5,5);
      wm.set(valor6,6);
      wm.set(valor7,7);
      wm.set(valor8,8);
      console.log(wm);

      console.log(wm.has(valor5));
      console.log(wm.has(valor6));
      console.log(wm.has(valor7));
      console.log(wm.has(valor8));



      console.log(wm.get(valor5));
      console.log(wm.get(valor6));
      console.log(wm.get(valor7));
      console.log(wm.get(valor8));

      
      wm.delete(valor8);
      console.log(wm);


     /*  setInterval(() => {
        console.log(wm);
      }, 1000); 


      setTimeout(() => {
        valor6 = null;
        valor7 = null;
        valor8 = null;

      }, 5000); */


    </script>
  </body>
</html>
